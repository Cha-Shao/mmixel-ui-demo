import { Button, Carousel } from "../../components"
import Image from "next/image"
import { useState } from "react"
import classNames from "classnames"

export const CustomCarousel = () => {
  const [page, setPage] = useState(0)
  const images = [
    "/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png",
    "/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png",
    "/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png",
    "/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png",
  ]
  const nextPage = () => {
    setPage(prevPage => (prevPage + 1) % images.length)
  }
  const prevPage = () => {
    page - 1 < 0
      ? setPage(images.length - 1)
      : setPage(prevPage => prevPage - 1)
  }
  return (
    <div>
      <Carousel forcePage={page} className="mb-4 rounded-lg">
        {images.map((image, i) => (
          <Image
            key={i}
            src={`/carousel${image}`}
            alt=""
            className="w-full object-cover"
            width={720}
            height={405}
          />
        ))}
      </Carousel>
      <div className="flex items-center">
        <Button square onClick={prevPage} className="shrink-0">
          {"<"}
        </Button>
        <div className="flex-grow grid grid-cols-4 gap-2 mx-4">
          {images.map((image, i) => (
            <Image
              key={i}
              src={`/carousel${image}`}
              alt=""
              className={classNames(
                "w-full object-cover rounded-md duration-200",
                { "opacity-50 cursor-pointer": i !== page }
              )}
              width={192}
              height={108}
              onClick={() => {
                setPage(i)
              }}
            />
          ))}
        </div>
        <Button square onClick={nextPage} className="shrink-0">
          {">"}
        </Button>
      </div>
    </div>
  )
}

# è½®æ’­ Carousel

è½¬è½¬è½¬ï¼Œä¸è®¤è¯†çš„ç»„ä»¶

### é»˜è®¤

æœ€åŸºç¡€çš„è½®æ’­

<br />

<Carousel>
  <Image
    src="/carousel/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
</Carousel>

```tsx copy
import { Carousel, Button } from "mmixel-ui"
import Image from "next/image"
import classNames from "classnames"

const getImages = async () => {
  const images = [
    "/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png",
    "/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png",
    "/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png",
    "/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png",
  ]
  return images
}

export const CarouselExample = async () => {
  const images = await getImages()

  return (
    <Carousel>
      {images.map((image, i) => (
        <Image
          key={i}
          src={`/carousel${image}`}
          className="w-full object-cover"
          alt=""
          width={720}
          height={405}
        />
      ))}
    </Carousel>
  )
}
```

### è‡ªåŠ¨æ’­æ”¾

ä½¿ç”¨ `autoplay` è§£æ”¾åŒæ‰‹

è°ƒæ•´ `interval` ä¿®æ”¹æ¯é¡µåœç•™æ—¶é—´

<br />

<Carousel autoplay interval={2000}>
  <Image
    src="/carousel/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
</Carousel>

```tsx copy
import { Carousel, Button } from "mmixel-ui"
import Image from "next/image"

const getImages = async () => {
  const images = [
    "/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png",
    "/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png",
    "/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png",
    "/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png",
  ]
  return images
}

export const CarouselExample = async () => {
  const images = await getImages()

  return (
    <Carousel autoplay interval={2000}>
      {images.map((image, i) => (
        <Image
          key={i}
          src={`/carousel${image}`}
          className="w-full object-cover"
          alt=""
          width={720}
          height={405}
        />
      ))}
    </Carousel>
  )
}
```

### è‡ªå®šä¹‰æ§ä»¶

æƒ³è¦æ¥ç‚¹èŠ±é‡Œèƒ¡å“¨çš„ï¼Ÿ

> dots åªéœ€æä¾›ä¸€ä¸ªå®¹å™¨ï¼Œç»„ä»¶å°†ä¼šè‡ªåŠ¨åœ¨å®¹å™¨å†…æ”¾å…¥ children

<br />

<Carousel
  arrowLeft={
    <p className="absolute text-3xl select-none cursor-pointer bottom-6 left-[1.5rem]">
      â¬…ï¸
    </p>
  }
  arrowRight={
    <p className="absolute text-3xl select-none cursor-pointer bottom-6 left-[4.5rem]">
      â¡ï¸
    </p>
  }
  dots={
    <span className="absolute bottom-6 right-6 flex bg-pink-400/50 rounded-md" />
  }
  dotActive={<p>ğŸ¥°</p>}
  dotDefault={<p className="cursor-pointer">ğŸ˜´</p>}>
  <Image
    src="/carousel/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
  <Image
    src="/carousel/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png"
    className="w-full object-cover"
    alt=""
    width={720}
    height={405}
  />
</Carousel>

```tsx
import { Carousel, Button } from "mmixel-ui"
import Image from "next/image"

const getImages = async () => {
  const images = [
    "/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png",
    "/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png",
    "/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png",
    "/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png",
  ]
  return images
}

export const CarouselExample = async () => {
  const images = await getImages()

  return (
    <Carousel
      arrowLeft={
        <p className="absolute text-3xl select-none cursor-pointer bottom-6 left-[1.5rem]">
          â¬…ï¸
        </p>
      }
      arrowRight={
        <p className="absolute text-3xl select-none cursor-pointer bottom-6 left-[4.5rem]">
          â¡ï¸
        </p>
      }
      dotActive={<p>ğŸ¥°</p>}
      dotDefault={<p className="cursor-pointer">ğŸ˜´</p>}>
      {images.map((image, i) => (
        <Image
          key={i}
          src={`/carousel${image}`}
          className="w-full object-cover"
          alt=""
          width={720}
          height={405}
        />
      ))}
    </Carousel>
  )
}
```

### å¼ºåˆ¶é¡µ

ä½¿ç”¨ `forcePage` åœ¨å¤–éƒ¨æ§åˆ¶é¡µé¢

> ä½¿ç”¨å¼ºåˆ¶é¡µæ—¶é»˜è®¤æ§ä»¶å°†æ¶ˆå¤±

<br />

<CustomCarousel />

```tsx copy
import { Button, Carousel } from "mmixel-ui"
import { useState } from "react"
import Image from "next/image"

export const CustomCarousel = () => {
  const [page, setPage] = useState(0)
  const images = [
    "/8db06cb6918f35ad86512810c01aa38815b1d6bb0aab60526737647ec4a343d2.png",
    "/9076dccead5d973e870216a55afe95cdcf11ed923c15f0c6e3f41a240a1710fd.png",
    "/cbf8621803f02ced3dfe2f1ca57e290cc0dccebd485b0e9fb2f8f826f38f01bf.png",
    "/d2b1e3aea6add585b7cd5ebb53e2a7de11b74db60b6ebdbf04dc1c81ef2ed633.png",
  ]
  const nextPage = () => {
    setPage(prevPage => (prevPage + 1) % images.length)
  }
  const prevPage = () => {
    page - 1 < 0
      ? setPage(images.length - 1)
      : setPage(prevPage => prevPage - 1)
  }
  return (
    <div>
      <Carousel forcePage={page} className="mb-4 rounded-lg">
        {images.map((image, i) => (
          <Image
            key={i}
            src={`/carousel${image}`}
            alt=""
            className="w-full object-cover"
            width={720}
            height={405}
          />
        ))}
      </Carousel>
      <div className="flex items-center">
        <Button square onClick={prevPage} className="shrink-0">
          {"<"}
        </Button>
        <div class="flex-grow grid grid-cols-4 gap-2 mx-4">
          {images.map((image, i) => (
            <Image
              key={i}
              src={`/carousel${image}`}
              alt=""
              className={classNames(
                "w-full object-cover rounded-md duration-200",
                { "opacity-50 cursor-pointer": i !== page }
              )}
              width={192}
              height={108}
              onClick={() => {
                setPage(i)
              }}
            />
          ))}
        </div>
        <Button square onClick={nextPage} className="shrink-0">
          {">"}
        </Button>
      </div>
    </div>
  )
}
```

### Carousel Props

| Prop       | Type           | Default     | Desc                         |
| :--------- | :------------- | :---------- | :--------------------------- |
| autoplay   | `boolean`      | `false`     | æ˜¯å¦è‡ªåŠ¨è½®æ’­                 |
| interval   | `number`       | `0`         | è½®æ’­åœç•™æ—¶é—´(ms)             |
| delay      | `number`       | `0`         | è½®æ’­æ’­æ”¾å‰æ‘‡(ms)             |
| duration   | `number`       | `300`       | è½®æ’­åŠ¨ç”»æ—¶é•¿(ms)             |
| forcePage  | `number`       | `undefined` | å¼ºåˆ¶è½®æ’­é¡µ(index, ä» 0 å¼€å§‹) |
| arrowLeft  | `ReactElement` | `undefined` | è‡ªå®šä¹‰æ§ä»¶çš„å·¦ç®­å¤´           |
| arrowRight | `ReactElement` | `undefined` | è‡ªå®šä¹‰æ§ä»¶çš„å³ç®­å¤´           |
| dots       | `ReactElement` | `undefined` | è‡ªå®šä¹‰æ§ä»¶çš„æŒ‡ç¤ºå™¨å®¹å™¨       |
| dotActive  | `ReactElement` | `undefined` | è‡ªå®šä¹‰æ§ä»¶çš„é«˜äº®æŒ‡ç¤ºå™¨       |
| dotDefault | `ReactElement` | `undefined` | è‡ªå®šä¹‰æ§ä»¶çš„é»˜è®¤æŒ‡ç¤ºå™¨       |
